<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>caça palavras </title>
  
    <link id="css_principal" rel="stylesheet" href="styles/estilo.css">
    <link id="css_box"rel="stylesheet" href="styles/box.css">
    <link id="css_format" rel="stylesheet" href="styles/format.css">
    <link id="css_modal" rel="stylesheet" href="styles/tentarmod.css">
    <link rel="stylesheet" href="styles/responsividade2.css">

    <script src="java/script.js"></script>
    <script src="java/app.js"></script>
    <script src="java/drag.js"></script>
    <script src="java/placar.js"></script>
    <script src="java/mudanca_de_cor.js" defer></script>

</head>
<body id="bod">
    <nav id="menu">
        <a class="box3" href="pag1.html">Voltar</a>
        <a class="box3" href="index.html">Home</a>
        <p id="placar">Pontuação:<span id="pontos">0</span></p>
    </nav>
    <br/><br/>
    <div id="principal">
      <div id="principal">
      <div id="controlsContainer">
        <div id="timer" class="box3">Tempo: <span  id="time">3:30</span> </div>
        <button id="btnGerar">Gerar novo</button>
    </div>
      
       <div id= "div1" class="facilMatriz">
         <table id="grid">
        <pre id="matriz"></pre>

        <pre id="matriz" class="matriz"></pre>
        <br/><br/>
        </table>
      </div>
  

     <br/>
  

    <section id="sec"> 
        <h1 id="tit">Palavras</h1>
        <div class="bpal">
          <p id="pp">Mickey</p>
        </div>
        <br/><br/>
        <div class="bpal">
          <p id="pp">Minnie</p>
        </div>
        <br/><br/>
        <div class="bpal">
          <p id="pp">Cinderella</p>
        </div>
        <br/><br/>
        <div class="bpal">
          <p id="pp">Aurora</p>
        </div>
        <br/><br/>
        <a class="box3 btn" href="jogoMDisney.html" onclick="zerarPontos();">Próximo</a>

      </div>
    </section>
    <div id="timeoutModal" class="modal">
      <div class="modal-content">
        <img src="img/você-perde-o-carimbo-de-borracha-110063319.webp" alt="Tempo esgotado!" class="modal-image">
        <h2>Tempo esgotado!</h2>
        <div class="modal-buttons">
          <button onclick="irParaMenu(); zerarPontos();">Voltar ao Menu</button>
          <button onclick="tentarNovamente(); zerarPontos();">Tentar Novamente</button>
          <button onclick="trocarTema(); zerarPontos();">Trocar Tema</button>
        </div>
      </div>
    </div>



    <!--Modal vencedor-->
    <div class="modal-content">
    <div id="fadee" class="hide"></div>
            <div id="modal" class="hide">
            <div class="modal-body">
                <h2> PARABÉNS!!!
                    <br/>
                    Você venceu a partida e encontrou todas as palvras escondidas!
                    <br/>
                    Agora, está na hora de ir para um nível mais desafiador...<br/>
                    Vamos lá?
                    <br>
                </h2>
            </div>
                <div class="modal-buttons">
                <button onclick="irParaMenu()">Voltar ao Menu</button>
                <button onclick="tentarNovamente()">Tentar Novamente</button>
                <button id="proximo"><a href="jogoMDisney.html">Próximo nível</a></button>
                </div>
            </div>
            </div>
        </div>
</body>
</html>

<script>
  let nivel = "facil";
</script>




































<!-- Modal Vencedor -->
<div id="modal-vencedor" class="hide" style="padding: 20px; background: white; border-radius: 10px; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); z-index: 9999;">
  <h2>Parabéns, você venceu!</h2>
  <button onclick="document.getElementById('modal-vencedor').style.display='none'">Fechar</button>
</div>

<!-- Fade (caso você tenha usado algum efeito de transição) -->
<div id="fade" class="hide"></div>















.hide {
  display: none;
}


































let total = 0;

function marcarPalavra(palavra) {
    const lista = document.querySelectorAll(".bpal p");
    let quantidade = lista.length;
    console.log(quantidade);
    
    lista.forEach(el => {
        if (el.textContent.toLowerCase() === palavra.toLowerCase()) {
            el.style.textDecoration = "line-through";
            el.style.color = "gray"; // opcional
            total += 1;

            // Verifica se todas as palavras foram marcadas
            if (total === quantidade) {
                // Exibe o modal e dispara o confete quando todas as palavras foram encontradas
                modal.classList.toggle("hide");
                fade.classList.toggle("hide");

                // Chama a função para mostrar o modal e disparar o confete
                mostrarModalVencedor();
            }
        }
    });
}

// Função para disparar o confete
function dispararConfete() {
    const minhaConfete = confetti.create(document.body, {
        resize: true,
        useWorker: true,
    });

    // Dispara o confete
    minhaConfete({
        particleCount: 100,
        spread: 160,
        origin: { y: 0.6 },
        colors: ['#f9fbfcff', '#0cbef5ff', '#0000ff'],
    });
}

// Função para exibir o modal vencedor e disparar o confete automaticamente
function mostrarModalVencedor() {
    // Mostrar o modal
    document.getElementById("modal-vencedor").style.display = "block";
    
    // Disparar o confete
    dispararConfete();
}
